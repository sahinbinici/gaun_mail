spring.application.name=mobileswebservices
server.port=8082

# Default DataSource (used by announcements and food packages)
spring.datasource.default.jdbc-url=jdbc:mysql://193.140.136.11:3306/duyuru
spring.datasource.default.username=mobiluser11
spring.datasource.default.password=MaviCubuk25!!
spring.datasource.default.driver-class-name=com.mysql.cj.jdbc.Driver

# News DataSource
spring.datasource.news.jdbc-url=jdbc:mysql://193.140.102.118:3306/gaunhabermerkezivt
spring.datasource.news.username=SakinKullan11
spring.datasource.news.password=Pelikan2025Mavi!!
spring.datasource.news.driver-class-name=com.mysql.cj.jdbc.Driver

# Events DataSource
spring.datasource.events.jdbc-url=jdbc:mysql://193.140.136.11:3306/duyuru
spring.datasource.events.username=mobiluser11
spring.datasource.events.password=MaviCubuk25!!
spring.datasource.events.driver-class-name=com.mysql.cj.jdbc.Driver
# Add connection pool settings for debugging
spring.datasource.events.hikari.connection-timeout=20000
spring.datasource.events.hikari.maximum-pool-size=5
spring.datasource.events.hikari.minimum-idle=2
spring.datasource.events.hikari.pool-name=EventsHikariPool

# Remote Config DataSource (MariaDB)
spring.datasource.remoteconfig.jdbc-url=jdbc:mariadb://localhost:3306/useful_links
spring.datasource.remoteconfig.username=root
spring.datasource.remoteconfig.password=sahinbey_
spring.datasource.remoteconfig.driver-class-name=org.mariadb.jdbc.Driver
spring.datasource.remoteconfig.hikari.connection-timeout=20000
spring.datasource.remoteconfig.hikari.maximum-pool-size=5
spring.datasource.remoteconfig.hikari.minimum-idle=2
spring.datasource.remoteconfig.hikari.pool-name=RemoteConfigHikariPool

# JPA/Hibernate properties for default datasource
spring.jpa.hibernate.ddl-auto=none
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect

server.servlet.context-path=/mobileservices

# JWT Configuration - TEMPORARILY DISABLED
#app.jwt.secret=mySecretKey123456789012345678901234567890abcdefghijklmnopqrstuvwxyz
#app.jwt.expiration=86400

# Authentication Configuration - TEMPORARILY DISABLED
#app.auth.username=admin
#app.auth.password=password

# Security Configuration - TEMPORARILY DISABLED
#spring.security.user.name=admin
#spring.security.user.password=password

# SpringDoc/Swagger Configuration
springdoc.api-docs.path=/v3/api-docs
springdoc.swagger-ui.path=/swagger-ui.html
springdoc.swagger-ui.enabled=true
springdoc.swagger-ui.try-it-out-enabled=true

# Logging Configuration - Using Spring Boot defaults
logging.level.org.springframework.boot.autoconfigure.jdbc=DEBUG
logging.level.org.springframework.jdbc=DEBUG
logging.level.org.springframework.boot.actuate.jdbc=DEBUG
logging.level.com.zaxxer.hikari=DEBUG

# Actuator Configuration
management.endpoints.web.exposure.include=health,info,metrics,prometheus,loggers,httptrace
management.endpoint.health.show-details=always
management.endpoint.health.probes.enabled=true
management.health.livenessstate.enabled=true
management.health.readinessstate.enabled=true
management.info.env.enabled=true
# Disable auto-detection of datasources for health checks
management.health.db.enabled=false
# Explicitly define which health indicators to enable
management.health.defaults.enabled=false
management.health.diskspace.enabled=true

# Application Information
info.app.name=Mobile Web Services
info.app.description=Mobile Web Services API for GAUN - Managing food programs, announcements, news, events, and remote configuration
info.app.version=0.0.1-SNAPSHOT
info.app.encoding=UTF-8
info.app.java.version=17.0.12

# CORS Configuration
app.cors.allowed-origins=http://localhost:3000,http://localhost:4200,https://yourdomain.com
app.cors.allowed-methods=GET,POST,PUT,DELETE,OPTIONS,PATCH
app.cors.allowed-headers=Authorization,Content-Type,X-Requested-With,Accept,Origin,Access-Control-Request-Method,Access-Control-Request-Headers
app.cors.max-age=3600

# Cache Configuration
spring.cache.type=caffeine
spring.cache.cache-names=announcements,articles,posts,events,food-menus,latest-announcements,latest-articles,latest-posts,latest-events,sliders,latest-sliders,sliders-last-month,usefulLinks,configVersion
spring.cache.caffeine.spec=initialCapacity=100,maximumSize=1000,expireAfterWrite=30m

# Flyway Configuration for Remote Config Database (MariaDB)
spring.flyway.enabled=false
spring.flyway.url=jdbc:mariadb://localhost:3306/useful_links
spring.flyway.user=root
spring.flyway.password=sahinbey_
spring.flyway.locations=classpath:db/migration
spring.flyway.baseline-on-migrate=true
spring.flyway.baseline-version=0
spring.flyway.validate-on-migrate=false
spring.flyway.clean-disabled=true
spring.flyway.out-of-order=true
spring.flyway.ignore-migration-patterns=*:failed
